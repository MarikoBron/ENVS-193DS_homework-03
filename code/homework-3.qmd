---
title: "homework-3"
date: 05-22-2025
author: Mariko Bronson
format: 
  html:
    self-contained: false
    resources: ["sketch.jpg"]
---

https://github.com/MarikoBron/ENVS-193DS_homework-03.git

```{r packages and data}
#install packages
library(tidyverse)
library(here)
library(janitor)
library(flextable)
library(readxl)
library(ggplot2)
library(colorspace)
library(dplyr)

#create object screentime
screentime <- read_xlsx(
  here("data", "193DS_screentime_updated.xlsx"),
  sheet = "Sheet1")
```

#Problem 1: Personal Data

## a. Data Summarizing

I am adding together five quantitative variables to calculate my perceived daily stress level, including the number of classes skipped, number of assignments/tasks due, number of assignments/tasks done, number of plans cancelled, and number of hours slept. I am comparing this daily self-imposed stress value to my daily screentime to look for correlations between the two values because sometimes I feel like high perceived stress pushes me to use my phone more to avoid tasks.

## b. Visualization

```{r cleaning data}

screentime_clean <- screentime |>  #create object screentime_clean
  clean_names() |> 
  select(number_classes_skipped, number_tasks_due, number_hw_assn_done_1, number_plans_cancelled, x8_number_hrs_slept, stress_value, screen_time_h) |> 
  rename( 
        `classes skipped` = number_classes_skipped ,
        `tasks due` = number_tasks_due,
        `assignments completed` = number_hw_assn_done_1,
        `plans cancelled` = number_plans_cancelled,
        `8 - hours slept` = x8_number_hrs_slept,
        `stress value` = stress_value,
        `screentime(h)` = screen_time_h #renaming all of my columns
         ) 

```

```{r Creating a Visualization}

screentime_altered <- screentime_clean |> 
  mutate(`hours slept` = 8 - `8 - hours slept`) #make the hours slept variable less confusing because i am not using stress points in this version

ggplot(screentime_altered, 
       aes(
         x = `hours slept`,
         y = `screentime(h)`,
         color = factor(`tasks due`)
       )) + #create new scatterplot to look for correlation between screentime, hours slept, and tasks due
  geom_point(
    fill = "honeydew", 
    shape = 23,
    alpha = 0.6,
    size = 3,
    stroke = 3 #make scatterplot cute
  ) +
  
  labs(
    title = "Negative Relationship Between Screentime and Hours Slept\nand Between Screentime and Number of Tasks Due",
    x = "Hours Slept",
    y = "Screentime (h)",
    color = "Tasks Due" #add labels
  ) +
  
   geom_jitter(
height = 0.15, 
width = 0,
shape = 23,
alpha = 0.6,
size = 3, 
stroke = 3) + #adding jitter because I realized half of my data is hidden
  
  scale_color_discrete_sequential(palette = "SunsetDark") #choose colors

```


## c. Caption

Figure 1: Daily screentime appears to decrease on days with more responsibilities and proper sleep.

Daily screentime(h) obtained from "screentime" feature on iPhone. Daily sleep(h) estimated from last time picking up phone every night and first time every morning. Tasks due recorded daily, midterms and finals were counted as 2 tasks each. Points were recorded frpm 04/23/25 to 05/29/25 excluding 04/27 - 05/03 due to a lack of observations. Points represent daily observations of hours slept and hours of screentime (n = 30). The colors of the points transition from yellow, which represents days with zero tasks due, and darken to purple as daily tasks increase to four.


## d. Table Presentation

```{r table}

screentime_cleaner <- screentime_altered[,c("tasks due", "hours slept", "screentime(h)")] |>  
  arrange(`screentime(h)`) #create object with selected values, arrange my increasing screentime/dependent var

set_flextable_defaults(
  border.color = "#f8a07e",
  background.color = "#ffefc4",
  font.color = "#a059a0" #making table's colorscheme match my plot
  )

#create a table with the intended columns
screentime_cleaner_table <- flextable(
  screentime_cleaner,
  col_keys = c("tasks due", "hours slept", "screentime(h)"),
  cwidth = 2,
  cheight = 0.25,
  defaults = list(),
  theme_fun = theme_booktabs,
  use_labels = FALSE
) |> 
  set_header_labels(
    `tasks due` = "Tasks Due",
    `hours slept` = "Hours Slept",
    `screentime(h)` = "Screentime(h)" #rename columns
  ) 


screentime_cleaner_table #view my table

```

# Problem 2: Affective visualization

## a. Describe in words what an affective visualization could look like for your personal data

Because my study aims to measure correlations with screentime, a curiosity driven by my distress over extreme phone-driven procrastination, I want my background to be a phone. Maybe not the most creative, but I didn't see it in any of the example visualizations. I want to use self explanatory icons to represent my data. I'm thinking something along the lines of hours of sleep being represented by how dark it is outside, or by how tired a character looks. I think I will separate my data by hours of screentime instead of by day because I find the daily data point visualizations, like the "week of goodbyes" postcard, to be a bit disorienting. I am obsessed with the environmental graffiti, but it seems a bit beyond my scope right now. 

## b. Sketch of my idea

![Screentime Sketch](sketch.jpg)

## c. Draft of my idea

![Screentime Draft](draft.jpg)
## d. Artist Statement

I'm organizing my piece by hours of screentime (4-11 hours) and using silly icons to show the average sleep and business that pertains to each hour of screentime. I was not influenced by a specific piece, I stopped looking at them pretty fast because I was scared of being unoriginal. This is in the form of hand drawn cartoons that I created on my iPad. 


# Problem 3

## a.